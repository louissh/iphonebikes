<!DOCTYPE html>
<html>
<head>
 <meta name="apple-mobile-web-app-capable" content="yes">
<meta http-equiv="refresh" content="10"/>
</head>
<body style="background: black;">

<p class="red"><span id="bonny" class="bold"></span>Bonny St </p>
<p class="red"><span id="Martin" class="bold"></span>St Martins Cl </p>
<p class="red"><span id="274west" class="bold"></span>274W</p>
<p class="red"><span id="274east" class="bold"></span>274E</p>
<p class="red"><span id="cmd" class="bold"></span>CMD</p>



<script>

//bonny
var xmlhttp = new XMLHttpRequest();
xmlhttp.onreadystatechange = function() {
  if (this.readyState == 4 && this.status == 200) {
    var myObj = JSON.parse(this.responseText);
    document.getElementById("bonny").innerHTML = myObj.additionalProperties[6].value;
  }
};
xmlhttp.open("GET", "https://api.tfl.gov.uk/BikePoint/BikePoints_462?app_id=9d4c19c5&app_key=4fab1b858c83977630bb1528938c7823", true);
xmlhttp.send();


//martins
var xmlhttp = new XMLHttpRequest();
xmlhttp.onreadystatechange = function() {
  if (this.readyState == 4 && this.status == 200) {
    var myObj2 = JSON.parse(this.responseText);
    document.getElementById("Martin").innerHTML = myObj2.additionalProperties[6].value;
  }
};
xmlhttp.open("GET", "https://api.tfl.gov.uk/BikePoint/BikePoints_604?app_id=9d4c19c5&app_key=4fab1b858c83977630bb1528938c7823", true);
xmlhttp.send();


//274west
var xmlhttp = new XMLHttpRequest();
var url = "https://api.tfl.gov.uk/StopPoint/490003120W/Arrivals?app_id=9d4c19c5&app_key=4fab1b858c83977630bb1528938c7823";

xmlhttp.onreadystatechange = function() {
  if (this.readyState == 4 && this.status == 200) {
    var myArr = JSON.parse(this.responseText);
    myFunction(myArr);
  }
};
xmlhttp.open("GET", url, true);
xmlhttp.send();

function myFunction(arr) {
  var out = "";
  var i;
  for(i = 0; i < arr.length; i++) {
    out += ' ' + Math.round(arr[i].timeToStation/60) + 'm';
  }
  document.getElementById("274west").innerHTML = out;
}

//274east
var xmlhttp2 = new XMLHttpRequest();
var url2 = "https://api.tfl.gov.uk/StopPoint/490003120E/Arrivals?app_id=9d4c19c5&app_key=4fab1b858c83977630bb1528938c7823";

xmlhttp2.onreadystatechange = function() {
  if (this.readyState == 4 && this.status == 200) {
    var myArr2 = JSON.parse(this.responseText);
    myFunction2(myArr2);
  }
};
xmlhttp2.open("GET", url2, true);
xmlhttp2.send();

function myFunction2(arr) {
  var out = "";
  var i;
  for(i = 0; i < arr.length; i++) {
    out += ' ' + Math.round(arr[i].timeToStation/60) + 'm';
  }
  document.getElementById("274east").innerHTML = out;
}

//cmd
var xmlhttp3 = new XMLHttpRequest();
var url3 = "https://api.tfl.gov.uk/StopPoint/910GCMDNRD/Arrivals?app_id=9d4c19c5&app_key=4fab1b858c83977630bb1528938c7823";

xmlhttp3.onreadystatechange = function() {
  if (this.readyState == 4 && this.status == 200) {
    var myArr2 = JSON.parse(this.responseText);
    myFunction2(myArr2);
  }
};
xmlhttp3.open("GET", url3, true);
xmlhttp3.send();

function myFunction3(arr) {
  var out = "";
  var i;
  for(i = 0; i < arr.length; i++) {
    out += arr[i].destinationName + ' ' + Math.round(arr[i].timeToStation/60) + 'm';
  }
  document.getElementById("cmd").innerHTML = out;
}

</script>



<style>
.bold{
    font-weight: bold;
float:right;
}
.red{
    font-size: 6vw;
    color: red;
    font-family: arial;
    margin: 0;
}
</style>

</body>
</html>